<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chat + Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #1e1e2f;
      color: #fff;
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* Header */
    header {
      background: #111;
      padding: 10px;
      display: flex;
      justify-content: space-around;
    }
    header button {
      background: #06d6a0;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
    }
    header button.active {
      background: #04b383;
    }

    /* Sections */
    .section {
      flex: 1;
      display: none;
      overflow-y: auto;
      padding: 10px;
    }
    .section.active {
      display: block;
    }

    /* Chat Styles */
    #chatMessages {
      height: 70vh;
      overflow-y: auto;
      padding: 10px;
      border: 1px solid #444;
      border-radius: 8px;
      background: #222;
    }
    #chatMessages p {
      margin: 5px 0;
      padding: 6px 10px;
      border-radius: 5px;
    }
    .me { background: #06d6a0; color: #000; text-align: right; }
    .other { background: #333; color: #fff; text-align: left; }

    .chat-input {
      display: flex;
      margin-top: 10px;
    }
    .chat-input input {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 6px 0 0 6px;
      outline: none;
    }
    .chat-input button {
      padding: 10px 15px;
      border: none;
      border-radius: 0 6px 6px 0;
      background: #06d6a0;
      cursor: pointer;
      font-size: 15px;
    }

    /* Games Section */
    h2, h3 { margin-top: 20px; }

    /* Tic Tac Toe */
    #ticTacToe {
      display: grid;
      grid-template-columns: repeat(3, 70px);
      gap: 5px;
      margin: 10px auto;
    }
    #ticTacToe button {
      width: 70px;
      height: 70px;
      font-size: 22px;
      background: #333;
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    /* Snake */
    #snakeCanvas {
      border: 2px solid #06d6a0;
      background: #000;
      display: block;
      margin: 10px auto;
      max-width: 100%;
      height: auto;
    }

    /* Rock Paper Scissors */
    .rps-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
    }
    .rps-buttons button {
      padding: 8px 15px;
      font-size: 14px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background: #06d6a0;
      color: #000;
    }

    /* Memory */
    .memory-grid {
      display: grid;
      grid-template-columns: repeat(4, 70px);
      gap: 8px;
      justify-content: center;
      margin-top: 10px;
    }
    .memory-card {
      width: 70px;
      height: 70px;
      background: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      border-radius: 8px;
      cursor: pointer;
    }
    .memory-card.flipped {
      background: #06d6a0;
      color: #000;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      #ticTacToe button, .memory-card {
        width: 60px;
        height: 60px;
        font-size: 20px;
      }
      #ticTacToe {
        grid-template-columns: repeat(3, 60px);
      }
      .memory-grid {
        grid-template-columns: repeat(4, 60px);
      }
    }
  </style>
</head>
<body>
  <!-- Header Toggle -->
  <header>
    <button id="chatBtn" class="active">ðŸ’¬ Chat</button>
    <button id="gamesBtn">ðŸŽ® Games</button>
  </header>

  <!-- Chat Section -->
  <div id="chatSection" class="section active">
    <h2>ðŸ’¬ Chat</h2>
    <div id="chatMessages"></div>
    <div class="chat-input">
      <input type="text" id="chatInput" placeholder="Type your message...">
      <button onclick="sendMessage()">Send</button>
    </div>
  </div>

  <!-- Games Section -->
  <div id="gamesSection" class="section">
    <h2>ðŸŽ® Games Section</h2>

    <!-- Tic Tac Toe -->
    <h3>Tic Tac Toe</h3>
    <div id="ticTacToe"></div>
    <p id="tttStatus"></p>

    <!-- Snake -->
    <h3>Snake Game</h3>
    <canvas id="snakeCanvas" width="300" height="300"></canvas>
    <p style="text-align:center;">Use Arrow Keys to Play</p>

    <!-- Rock Paper Scissors -->
    <h3>Rock Paper Scissors</h3>
    <div class="rps-buttons">
      <button onclick="playRPS('rock')">âœŠ Rock</button>
      <button onclick="playRPS('paper')">âœ‹ Paper</button>
      <button onclick="playRPS('scissors')">âœŒ Scissors</button>
    </div>
    <p id="rpsResult" style="text-align:center;"></p>

    <!-- Memory Game -->
    <h3>Memory Card Flip</h3>
    <div class="memory-grid" id="memoryGrid"></div>
    <p id="memoryStatus" style="text-align:center;"></p>
  </div>

  <script>
    // Toggle Sections
    const chatBtn = document.getElementById("chatBtn");
    const gamesBtn = document.getElementById("gamesBtn");
    const chatSection = document.getElementById("chatSection");
    const gamesSection = document.getElementById("gamesSection");

    chatBtn.onclick = () => {
      chatBtn.classList.add("active");
      gamesBtn.classList.remove("active");
      chatSection.classList.add("active");
      gamesSection.classList.remove("active");
    };
    gamesBtn.onclick = () => {
      gamesBtn.classList.add("active");
      chatBtn.classList.remove("active");
      gamesSection.classList.add("active");
      chatSection.classList.remove("active");
    };

    // ========== Chat Logic ==========
    const messagesDiv = document.getElementById("chatMessages");
    const input = document.getElementById("chatInput");

    function sendMessage(){
      const msg = input.value.trim();
      if(!msg) return;
      const p = document.createElement("p");
      p.className = "me";
      p.textContent = "You: " + msg;
      messagesDiv.appendChild(p);
      input.value = "";
      messagesDiv.scrollTop = messagesDiv.scrollHeight;

      // Fake AI reply
      setTimeout(() => {
        const reply = document.createElement("p");
        reply.className = "other";
        reply.textContent = "AI Bot: " + "Hmm... " + msg;
        messagesDiv.appendChild(reply);
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
      }, 1000);
    }

    // ========== Tic Tac Toe ==========
    const tttBoard = document.getElementById("ticTacToe");
    const tttStatus = document.getElementById("tttStatus");
    let ttt = Array(9).fill(null);
    let currentPlayer = "X";
    function renderTicTacToe(){
      tttBoard.innerHTML="";
      ttt.forEach((val,i)=>{
        const btn=document.createElement("button");
        btn.textContent=val||"";
        btn.onclick=()=>makeMove(i);
        tttBoard.appendChild(btn);
      });
    }
    function makeMove(i){
      if(!ttt[i]){
        ttt[i]=currentPlayer;
        currentPlayer=currentPlayer==="X"?"O":"X";
        renderTicTacToe();
        checkWinner();
      }
    }
    function checkWinner(){
      const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
      for(let [a,b,c] of wins){
        if(ttt[a]&&ttt[a]===ttt[b]&&ttt[a]===ttt[c]){
          tttStatus.textContent=`ðŸŽ‰ Player ${ttt[a]} Wins!`;
        }
      }
    }
    renderTicTacToe();

    // ========== Snake ==========
    const canvas=document.getElementById("snakeCanvas");
    const ctx=canvas.getContext("2d");
    let box=15;
    let snake=[{x:9*box,y:9*box}];
    let food={x:Math.floor(Math.random()*19)*box,y:Math.floor(Math.random()*19)*box};
    let d;
    document.addEventListener("keydown",(e)=>{
      if(e.keyCode==37&&d!="RIGHT")d="LEFT";
      else if(e.keyCode==38&&d!="DOWN")d="UP";
      else if(e.keyCode==39&&d!="LEFT")d="RIGHT";
      else if(e.keyCode==40&&d!="UP")d="DOWN";
    });
    function draw(){
      ctx.clearRect(0,0,300,300);
      for(let s of snake){ctx.fillStyle="lime";ctx.fillRect(s.x,s.y,box,box);}
      ctx.fillStyle="red";ctx.fillRect(food.x,food.y,box,box);
      let headX=snake[0].x,headY=snake[0].y;
      if(d=="LEFT")headX-=box;if(d=="UP")headY-=box;
      if(d=="RIGHT")headX+=box;if(d=="DOWN")headY+=box;
      let newHead={x:headX,y:headY};
      if(headX<0||headY<0||headX>=300||headY>=300||snake.some(s=>s.x==newHead.x&&s.y==newHead.y)){
        clearInterval(game);alert("Game Over!");
      }
      if(headX==food.x&&headY==food.y){
        food={x:Math.floor(Math.random()*19)*box,y:Math.floor(Math.random()*19)*box};
      }else{snake.pop();}
      snake.unshift(newHead);
    }
    let game=setInterval(draw,100);

    // ========== RPS ==========
    function playRPS(choice){
      const options=["rock","paper","scissors"];
      const ai=options[Math.floor(Math.random()*3)];
      let result;
      if(choice===ai)result="ðŸ¤ Draw!";
      else if((choice=="rock"&&ai=="scissors")||(choice=="paper"&&ai=="rock")||(choice=="scissors"&&ai=="paper"))result=`ðŸŽ‰ You Win! (AI chose ${ai})`;
      else result=`ðŸ˜¢ You Lose! (AI chose ${ai})`;
      document.getElementById("rpsResult").textContent=result;
    }

    // ========== Memory ==========
    const memoryGrid=document.getElementById("memoryGrid");
    const memoryStatus=document.getElementById("memoryStatus");
    let cards=["ðŸŽ","ðŸŒ","ðŸ‡","ðŸ‰","ðŸ’","ðŸ","ðŸ¥­","ðŸ‘"];
    cards=[...cards,...cards];
    cards.sort(()=>0.5-Math.random());
    let flipped=[];let matched=[];
    function renderMemory(){
      memoryGrid.innerHTML="";
      cards.forEach((val,i)=>{
        const div=document.createElement("div");
        div.className="memory-card";
        div.textContent=flipped.includes(i)||matched.includes(i)?val:"?";
        div.onclick=()=>flipCard(i);
        memoryGrid.appendChild(div);
      });
    }
    function flipCard(i){
      if(flipped.length<2&&!flipped.includes(i)&&!matched.includes(i)){
        flipped.push(i);renderMemory();
        if(flipped.length===2)checkMatch();
      }
    }
    function checkMatch(){
      const[a,b]=flipped;
      if(cards[a]===cards[b]){matched.push(a,b);memoryStatus.textContent="âœ… Match Found!";}
      else{memoryStatus.textContent="âŒ Not a Match!";}
      setTimeout(()=>{
        flipped=[];renderMemory();
        if(matched.length===cards.length){memoryStatus.textContent="ðŸŽ‰ You Win!";}
      },800);
    }
    renderMemory();
  </script>
</body>
</html>
